/* ===== Paleta (chocolate/marrón) ===== */
:root{
  --coffee-950:#231815;   /* casi negro cacao */
  --coffee-900:#2e2220;
  --coffee-800:#3b2f2a;
  --coffee-700:#4a3832;
  --coffee-600:#6f4e37;   /* café clásico */
  --caramel-500:#b9884b;  /* acento */
  --sand-100:#efe7db;     /* beige claro */
  --sand-50:#f7f2ea;
  --radius:18px;
  --header-h:64px;
}

*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Inter, Arial, "Noto Sans";
  color: var(--sand-50);
  background: #231815; /* var(--coffee-950) sólido */
}

/* Utilidades */
.container{max-width:1100px;margin-inline:auto;padding-inline:24px}
.narrow{max-width:800px;margin-inline:auto}
.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* Header */
.site-header{
  position:sticky; top:0; z-index:50; height:var(--header-h);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  background: rgba(35,24,21,.7);
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.nav{height:var(--header-h); display:flex; align-items:center; justify-content:space-between; gap:16px}
.brand{display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--sand-50); font-weight:800; letter-spacing:.4px}
.brand-mark{
  width:36px; height:36px; border-radius:50%;
  display:grid; place-items:center; 
  background: radial-gradient(circle at 30% 30%, #7f5a43 0%, #5a3f31 60%, #3b2f2a 100%);
  box-shadow: 0 6px 18px rgba(0,0,0,.25) inset, 0 2px 10px rgba(0,0,0,.35);
  font-size:18px;
}
.brand-text{font-size:1.05rem}

.links{display:flex; gap:14px; align-items:center}
.links a{
  color:var(--sand-50); text-decoration:none; padding:8px 10px; border-radius:10px;
}
.links a:is(:hover,.active){background: rgba(255,255,255,.07)}

/* Mobile nav toggle */
.nav-toggle{display:none; appearance:none; background:none; border:0; padding:8px; cursor:pointer}
.nav-toggle-bar{display:block; width:22px; height:2px; background:var(--sand-50); margin:4px 0; border-radius:2px}

/* Hero */
.section{padding: clamp(56px, 8vw, 100px) 0}
.section-soft{ background: transparent; } /* antes tenía un tono; ahora transparente */
.hero-title{margin:0; font-size:clamp(2.2rem, 6vw, 3.4rem); line-height:1.1; letter-spacing:.2px}
.tagline{display:block; font-size:clamp(1rem, 2.5vw, 1.25rem); color:#eaddcf; margin-top:.25rem}
.lead{color:#eaddcf; max-width:65ch; font-size:1.05rem}
.badge{
  display:inline-flex; align-items:center; gap:8px;
  font-size:.85rem; color: var(--sand-50);
  background: rgba(255,255,255,.06);
  padding:8px 12px; border-radius:999px; border:1px solid rgba(255,255,255,.08);
  margin-bottom:10px;
}
.cta{display:flex; gap:12px; flex-wrap:wrap; margin-top:12px}
.btn{
  appearance:none; border:0; cursor:pointer;
  padding:12px 16px; border-radius: var(--radius);
  font-weight:700; background: linear-gradient(180deg, var(--caramel-500), #976a39);
  color:#1b120f; box-shadow: 0 6px 16px rgba(0,0,0,.35); text-decoration:none
}
.btn.secondary{background: transparent; color: var(--sand-50); border:1px solid rgba(255,255,255,.14)}
.btn:hover{filter: brightness(1.05)}

h2{margin:0 0 14px; font-size: clamp(1.4rem, 3vw, 2rem)}
p{margin:0 0 12px}
.bullets{margin:8px 0 0 0; padding-left:18px}
.bullets li{margin:6px 0}
.muted{color:#e9dfd3cc}

/* Placeholders */
.map-placeholder, .mount-placeholder, .reviews-placeholder{
  border:1px dashed rgba(255,255,255,.18);
  border-radius:16px;
  background: rgba(255,255,255,.03);
  min-height: 280px;
  display:grid; place-items:center; color:#e9dfd3cc;
}
.mount-note{font-size:.9rem; color:#e9dfd3cc; margin:8px 0 10px}
code{background: rgba(255,255,255,.08); padding:2px 6px; border-radius:6px}

/* Form */
.contact-form{display:grid; gap:10px; margin-top:6px}
.contact-form input,
.contact-form textarea{
  width:100%; border-radius:12px; background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12); color:var(--sand-50);
  padding:10px 12px; font:inherit
}
.contact-form input::placeholder,
.contact-form textarea::placeholder{color:#e9dfd3aa}

/* Footer */
.site-footer{
  border-top:1px solid rgba(255,255,255,.08);
  padding:20px 0 40px; color:#e9dfd3cc; font-size:.95rem; position:relative
}
.back-to-top{
  position:absolute; right:24px; top:18px; text-decoration:none; color:var(--sand-50);
  background: rgba(255,255,255,.07); border-radius:999px; padding:6px 10px
}

/* Offset para anclas con header sticky */
:target{scroll-margin-top: calc(var(--header-h) + 16px)}

/* Responsivo */
@media (max-width: 900px){
  .nav-toggle{display:block}
  .links{
    position:absolute; inset:var(--header-h) 0 auto 0; padding:16px 24px; gap:8px;
    background: rgba(35,24,21,.95); border-bottom:1px solid rgba(255,255,255,.08);
    transform: translateY(-8px); opacity:0; pointer-events:none; transition: opacity .2s ease;
    display:grid
  }
  .links.open{opacity:1; pointer-events:auto}
}
@media (prefers-reduced-motion: reduce){
  html{scroll-behavior:auto}
  .btn:hover{filter:none}
}

/* === Colores fijos por sección === */
#hero     { background: #2a1f1c; } /* cacao profundo */
#acerca   { background: #352a25; } /* mocha */
#tienda   { background: #41322d; } /* espresso */
#mapa     { background: #4a3832; } /* avellana */
#resenas  { background: #3b2f2a; } /* medium roast */
#roadmap  { background: #332622; } /* caramelo oscuro */
#contacto { background: #2a1e1b; } /* casi negro cálido */

/* === Gate disuasivo (modal) — NO es seguridad real === */
/* Espera de autenticación: oculta la app, deja visible el modal */
html.needs-auth body > * { visibility: hidden; }
html.needs-auth .fw-gate-overlay { visibility: visible !important; }

/* Overlay + tarjeta */
.fw-gate-overlay{
  position:fixed; inset:0; display:grid; place-items:center;
  background:rgba(35,24,21,.92); backdrop-filter:blur(4px); z-index:99999;
}
.fw-gate-card{
  width:min(92dvw,380px); border-radius:16px; padding:22px 20px;
  background: color-mix(in srgb, var(--coffee-800, #3b2f2a) 80%, #000 20%);
  border:1px solid rgba(255,255,255,.08); box-shadow:0 10px 40px rgba(0,0,0,.5);
  color:var(--sand-50, #f7f2ea); font:400 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}
.fw-gate-title{margin:0 0 6px;font-size:1.15rem;font-weight:800;letter-spacing:.2px}
.fw-gate-sub{margin:0 0 14px;color:#e9dfd3cc;font-size:.95rem}
.fw-gate-row{display:grid;gap:10px;margin:8px 0 10px}
.fw-gate-input{
  width:100%;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.06);color:inherit;outline:none;
}
.fw-gate-input::placeholder{color:#e9dfd399}
.fw-gate-actions{display:flex;gap:8px;align-items:center;justify-content:space-between;margin-top:6px}
.fw-gate-btn{
  appearance:none;border:0;cursor:pointer;padding:10px 14px;border-radius:12px;font-weight:700;
  background:linear-gradient(180deg,var(--caramel-500,#b9884b),#976a39);color:#1b120f;
}
.fw-gate-btn.secondary{background:transparent;color:inherit;border:1px solid rgba(255,255,255,.18)}
.fw-gate-err{min-height:20px;color:#ffb4a2}
.fw-gate-tries{font-size:.85rem;color:#e9dfd3cc}

/* === Brillos globales sin separación entre secciones === */
body{ position: relative; }
body::after{
  content:"";
  position: fixed;
  inset: -20vh -20vw;      /* overscan para pantallas grandes */
  pointer-events: none;
  z-index: 1;
  background:
    radial-gradient(1200px 700px at 15% -10%, rgba(255,255,255,.06), rgba(255,255,255,0) 60%),
    radial-gradient(900px 500px  at 110% 25%, rgba(255,255,255,.05), rgba(255,255,255,0) 55%),
    radial-gradient(800px 500px  at -10% 85%, rgba(255,255,255,.035), rgba(255,255,255,0) 60%);
  mix-blend-mode: soft-light;  /* brillo uniforme sobre todos los colores */
}

/* Brillos por DEBAJO del contenido (evita sombras sobre el mapa) */
body::after{ z-index: 0; }
.site-header, main, .site-footer { position: relative; z-index: 1; }

/* Mapa: marco super fino + altura más chica */
.map-embed{
  border-radius:16px;
  overflow:hidden;
  background: transparent;
  box-shadow: 0 0 0 .5px rgba(0,0,0,.9);  /* hairline */
  line-height: 0;
}
.map-embed iframe{
  width:100%;
  height: clamp(260px, 48vh, 520px);      /* ↓ antes: 320px,60vh,560px */
  border:0;
  display:block;
}
